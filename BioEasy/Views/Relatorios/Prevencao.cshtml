@model BioEasy.ViewModels.Prevencao

@{
    ViewData["Title"] = "Relatorio de Prevenção";
    Layout = ViewBag.PDF == "PDF" ? "~/Views/Shared/_LayoutPDF.cshtml" : "~/Views/Shared/_Layout.cshtml";
}

<div class="container text-center">
    @if (ViewBag.PDF == "PDF")
    {
    <hr>

    <div class="container">
        <div class="row">
            <div class="col col-2">
                <img id="logoReport" src="data:image/jpeg;base64, @ViewBag.Logo" width="100" height="100" />
            </div>
            <div class="col col-8">
                <p></p>
                <p></p>
                <p>@ViewBag.NomeEmpresa</p>
                <p>CRN/CRM: @ViewBag.CRN</p>
            </div>
        </div>
    </div>
    }
    else 
    { 
    <a class="btn btn-light" asp-action="Index" asp-route-id="@ViewBag.PacienteId">Voltar</a>
    <a asp-controller="Relatorios" asp-action="GeneratePDF" asp-route-pacienteId="@ViewBag.PacienteId" asp-route-relatorio="Prevencao" target="_blank" class="btn btn-primary">Gerar PDF</a>
    <a class="btn btn-primary" >Enviar por Email</a>
    }

    <hr>

    <h1>Relatorio de Prevenção</h1>
    <hr>
    <h2>Dados do Paciente</h2>
    <hr>
    <div class="container">
        <div class="row">
            <div class="col">@Html.DisplayNameFor(model => model.Nome)</div>
            <div class="col">@Html.DisplayFor(model => model.Nome)</div>
            <div class="col">@Html.DisplayNameFor(model => model.Sexo)</div>
            <div class="col">@Html.DisplayFor(model => model.Sexo)</div>
            <div class="w-100"></div>
            <div class="col">@Html.DisplayNameFor(model => model.DataNascimento)</div>
            <div class="col">@Html.DisplayFor(model => model.DataNascimento)</div>
            <div class="col">@Html.DisplayNameFor(model => model.Altura)</div>
            <div class="col">@Html.DisplayFor(model => model.Altura)</div>
            <div class="w-100"></div>
            <div class="col">@Html.DisplayName("Data")</div>
            <div class="col">@(DateTime.Now.ToString("dd/MM/yyyy"))</div>
            <div class="col">@Html.DisplayNameFor(model => model.HistoricoPaciente.Peso)</div>
            <div class="col">@Html.DisplayFor(model => model.HistoricoPaciente.Peso)</div>
            <div class="w-100"></div>
            <div class="col">@Html.DisplayNameFor(model => model.HistoricoPaciente.MassaAdiposa)</div>
            <div class="col">@Html.DisplayFor(model => model.HistoricoPaciente.MassaAdiposa)</div>
            <div class="col">@Html.DisplayNameFor(model => model.HistoricoPaciente.MassaNaoAdiposa)</div>
            <div class="col">@Html.DisplayFor(model => model.HistoricoPaciente.MassaNaoAdiposa)</div>
            <div class="w-100"></div>
            <div class="col">@Html.DisplayNameFor(model => model.HistoricoPaciente.MassaMuscular)</div>
            <div class="col">@Html.DisplayFor(model => model.HistoricoPaciente.MassaMuscular)</div>
            <div class="col">@Html.DisplayNameFor(model => model.HistoricoPaciente.MassaOssea)</div>
            <div class="col">@Html.DisplayFor(model => model.HistoricoPaciente.MassaOssea)</div>
            <div class="w-100"></div>
            <div class="col">@Html.DisplayNameFor(model => model.HistoricoPaciente.IngestaoCalorica)</div>
            <div class="col">@Html.DisplayFor(model => model.HistoricoPaciente.IngestaoCalorica)</div>
            <div class="col">@Html.DisplayNameFor(model => model.HistoricoPaciente.IdadeMetabolica)</div>
            <div class="col">@Html.DisplayFor(model => model.HistoricoPaciente.IdadeMetabolica)</div>
            <div class="w-100"></div>
            <div class="col">@Html.DisplayNameFor(model => model.HistoricoPaciente.GorduraVisceral)</div>
            <div class="col">@Html.DisplayFor(model => model.HistoricoPaciente.GorduraVisceral)</div>
            <div class="col"></div>
            <div class="col"></div>
        </div>
    </div>
    <hr>

    <h3>Análise de Gordura Corporal(%)</h3>
    <hr>
    <div id="divGorduraCorporal" class="d-flex justify-content-center">
        <div id="canvas-holder" style="width:50%">
            <canvas id="chartGorduraCorporal"></canvas>
        </div>
    </div>

    <h3>Análise de IMC(Kg/m2)</h3>
    <hr>
    <div id="divIMC" class="d-flex justify-content-center">
        <div id="canvas-holder" style="width:50%">
            <canvas id="chartIMC"></canvas>
        </div>
    </div>
    <hr>

    <h3>Análise de Gordura Visceral</h3>
    <hr>
    <div id="divGorduraVisceral" class="d-flex justify-content-center">
        <div id="canvas-holder" style="width:50%">
            <canvas id="chartGorduraVisceral"></canvas>
        </div>
    </div>
    <hr>

    <h3>Análise de Massa Muscular</h3>
    <hr>
    <div id="divMassaMuscular" class="d-flex justify-content-center">
        <div id="canvas-holder" style="width:50%">
            <canvas id="chartMassaMuscular"></canvas>
        </div>
    </div>
    <hr>

    <h3>Análise de Água Corporal(%)</h3>
    <hr>
    <div id="divAguaCorporal" class="d-flex justify-content-center">
        <div id="canvas-holder" style="width:50%">
            <canvas id="chartAguaCorporal"></canvas>
        </div>
    </div>
    <hr>

    @if (ViewBag.Balanca == "RD545") {
    <h3>Qualidade Muscular Total</h3>
    <hr>
    <div id="divQualidadeMuscular" class="d-flex justify-content-center">
        <div id="canvas-holder" style="width:50%">
            <canvas id="chartQualidadeMuscular"></canvas>
        </div>
    </div>
    <hr>
    }

    <h2>Dados Laboratoriais</h2>
    <hr>

    <h3>Análise de Colesterol(mg/dl)</h3>
    <hr>
    <div id="divColesterol" class="d-flex justify-content-center">
        <div id="canvas-holder" style="width:50%">
            <canvas id="chartColesterol"></canvas>
        </div>
    </div>

    <div id="divLDL" class="d-flex justify-content-center">
        <div id="canvas-holder" style="width:50%">
            <canvas id="chartLDL"></canvas>
        </div>
    </div>

    <div id="divHDL" class="d-flex justify-content-center">
        <div id="canvas-holder" style="width:50%">
            <canvas id="chartHDL"></canvas>
        </div>
    </div>

    <div id="divTriglicerideos" class="d-flex justify-content-center">
        <div id="canvas-holder" style="width:50%">
            <canvas id="chartTriglicerideos"></canvas>
        </div>
    </div>

    <div id="divAcucarSangue" class="d-flex justify-content-center">
        <div id="canvas-holder" style="width:50%">
            <canvas id="chartAcucarSangue"></canvas>
        </div>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script src="~/lib/chart.js/dist/Chart.bundle.js"></script>
    <script src="~/lib/chart.js/dist/chartjs-gauge.js"></script>
    <script src="~/lib/chart.js/dist/chartjs-plugin-datalabels.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            FillGorduraCorporalGauge();
            FillIMC();
            FillGorduraVisceral();
            FillMassaMuscular();
            FillAguaCorporal();
            FillQualidadeMuscular();
            FillColesterol();
            FillLDL();
            FillHDL();
            FillTriglicerideos();
            FillAcucarSangue();
        });

        function FillAcucarSangue() {
            var valor = @Model.AnaliseLaboratorial.AcucarNoSangue;
            var config = {
                type: 'gauge',
                data: {
                    labels: ['Baixo', 'Diminuído', 'Alto'],
                    datasets: [{
                        data: [95, 120, 180],
                        value: valor,
                        backgroundColor: ['green', 'yellow', 'red'],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    title: {
                        display: true,
                        text: 'Açúcar no Sangue'
                    },
                    layout: {
                        padding: {
                            bottom: 30
                        }
                    },
                    needle: {
                        // Needle circle radius as the percentage of the chart area width
                        radiusPercentage: 2,
                        // Needle width as the percentage of the chart area width
                        widthPercentage: 3.2,
                        // Needle length as the percentage of the interval between inner radius (0%) and outer radius (100%) of the arc
                        lengthPercentage: 80,
                        // The color of the needle
                        color: 'rgba(0, 0, 0, 1)'
                    },
                    valueLabel: {
                        display: true,
                        formatter: (value) => {
                            return value;
                        },
                        color: 'rgba(255, 255, 255, 1)',
                        backgroundColor: 'rgba(0, 0, 0, 1)',
                        borderRadius: 5,
                        padding: {
                            top: 10,
                            bottom: 10
                        }
                    },
                    plugins: {
                        datalabels: {
                            display: true,
                            formatter: function (value, context) {
                                return context.chart.data.labels[context.dataIndex];
                            },
                            //color: function (context) {
                            //  return context.dataset.backgroundColor;
                            //},
                            color: 'rgba(0, 0, 0, 1.0)',
                            //color: 'rgba(255, 255, 255, 1.0)',
                            backgroundColor: null,
                            font: {
                                size: 20,
                                weight: 'bold'
                            }
                        }
                    }
                }
            };

            var ctx = document.getElementById('chartAcucarSangue').getContext('2d');
            window.myGauge = new Chart(ctx, config);
        }

        function FillTriglicerideos() {
            var valor = @Model.AnaliseLaboratorial.Triglicerideos;
            var config = {
                type: 'gauge',
                data: {
                    labels: ['Baixo', 'Diminuído', 'Alto'],
                    datasets: [{
                        data: [140, 180, 250],
                        value: valor,
                        backgroundColor: ['green', 'yellow', 'red'],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    title: {
                        display: true,
                        text: 'Triglicerídeos'
                    },
                    layout: {
                        padding: {
                            bottom: 30
                        }
                    },
                    needle: {
                        // Needle circle radius as the percentage of the chart area width
                        radiusPercentage: 2,
                        // Needle width as the percentage of the chart area width
                        widthPercentage: 3.2,
                        // Needle length as the percentage of the interval between inner radius (0%) and outer radius (100%) of the arc
                        lengthPercentage: 80,
                        // The color of the needle
                        color: 'rgba(0, 0, 0, 1)'
                    },
                    valueLabel: {
                        display: true,
                        formatter: (value) => {
                            return value;
                        },
                        color: 'rgba(255, 255, 255, 1)',
                        backgroundColor: 'rgba(0, 0, 0, 1)',
                        borderRadius: 5,
                        padding: {
                            top: 10,
                            bottom: 10
                        }
                    },
                    plugins: {
                        datalabels: {
                            display: true,
                            formatter: function (value, context) {
                                return context.chart.data.labels[context.dataIndex];
                            },
                            //color: function (context) {
                            //  return context.dataset.backgroundColor;
                            //},
                            color: 'rgba(0, 0, 0, 1.0)',
                            //color: 'rgba(255, 255, 255, 1.0)',
                            backgroundColor: null,
                            font: {
                                size: 20,
                                weight: 'bold'
                            }
                        }
                    }
                }
            };

            var ctx = document.getElementById('chartTriglicerideos').getContext('2d');
            window.myGauge = new Chart(ctx, config);
        }

        function FillHDL() {
            var valor = @Model.AnaliseLaboratorial.HDL;
            var config = {
                type: 'gauge',
                data: {
                    labels: ['Baixo', 'Diminuído', 'Bom'],
                    datasets: [{
                        data: [20, 35, 60],
                        value: valor,
                        backgroundColor: ['red', 'yellow', 'green'],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    title: {
                        display: true,
                        text: 'HDL'
                    },
                    layout: {
                        padding: {
                            bottom: 30
                        }
                    },
                    needle: {
                        // Needle circle radius as the percentage of the chart area width
                        radiusPercentage: 2,
                        // Needle width as the percentage of the chart area width
                        widthPercentage: 3.2,
                        // Needle length as the percentage of the interval between inner radius (0%) and outer radius (100%) of the arc
                        lengthPercentage: 80,
                        // The color of the needle
                        color: 'rgba(0, 0, 0, 1)'
                    },
                    valueLabel: {
                        display: true,
                        formatter: (value) => {
                            return value;
                        },
                        color: 'rgba(255, 255, 255, 1)',
                        backgroundColor: 'rgba(0, 0, 0, 1)',
                        borderRadius: 5,
                        padding: {
                            top: 10,
                            bottom: 10
                        }
                    },
                    plugins: {
                        datalabels: {
                            display: true,
                            formatter: function (value, context) {
                                return context.chart.data.labels[context.dataIndex];
                            },
                            //color: function (context) {
                            //  return context.dataset.backgroundColor;
                            //},
                            color: 'rgba(0, 0, 0, 1.0)',
                            //color: 'rgba(255, 255, 255, 1.0)',
                            backgroundColor: null,
                            font: {
                                size: 20,
                                weight: 'bold'
                            }
                        }
                    }
                }
            };

            var ctx = document.getElementById('chartHDL').getContext('2d');
            window.myGauge = new Chart(ctx, config);
        }

        function FillLDL() {
            var valor = @Model.AnaliseLaboratorial.LDL;
            var config = {
                type: 'gauge',
                data: {
                    labels: ['Diminuído', 'Bom', 'Aumentado', 'Alto'],
                    datasets: [{
                        data: [10, 120, 180, 240],
                        value: valor,
                        backgroundColor: ['green', 'yellow', 'orange', 'red'],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    title: {
                        display: true,
                        text: 'LDL'
                    },
                    layout: {
                        padding: {
                            bottom: 30
                        }
                    },
                    needle: {
                        // Needle circle radius as the percentage of the chart area width
                        radiusPercentage: 2,
                        // Needle width as the percentage of the chart area width
                        widthPercentage: 3.2,
                        // Needle length as the percentage of the interval between inner radius (0%) and outer radius (100%) of the arc
                        lengthPercentage: 80,
                        // The color of the needle
                        color: 'rgba(0, 0, 0, 1)'
                    },
                    valueLabel: {
                        display: true,
                        formatter: (value) => {
                            return value;
                        },
                        color: 'rgba(255, 255, 255, 1)',
                        backgroundColor: 'rgba(0, 0, 0, 1)',
                        borderRadius: 5,
                        padding: {
                            top: 10,
                            bottom: 10
                        }
                    },
                    plugins: {
                        datalabels: {
                            display: true,
                            formatter: function (value, context) {
                                return context.chart.data.labels[context.dataIndex];
                            },
                            //color: function (context) {
                            //  return context.dataset.backgroundColor;
                            //},
                            color: 'rgba(0, 0, 0, 1.0)',
                            //color: 'rgba(255, 255, 255, 1.0)',
                            backgroundColor: null,
                            font: {
                                size: 20,
                                weight: 'bold'
                            }
                        }
                    }
                }
            };

            var ctx = document.getElementById('chartLDL').getContext('2d');
            window.myGauge = new Chart(ctx, config);
        }

        function FillColesterol() {
            var valor = @Model.AnaliseLaboratorial.Colesterol;
            var config = {
                type: 'gauge',
                data: {
                    labels: ['Diminuído', 'Bom', 'Aumentado', 'Alto'],
                    datasets: [{
                        data: [10, 160, 240, 360],
                        value: valor,
                        backgroundColor: ['green', 'yellow', 'orange', 'red'],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    title: {
                        display: true,
                        text: 'Colesterol'
                    },
                    layout: {
                        padding: {
                            bottom: 30
                        }
                    },
                    needle: {
                        // Needle circle radius as the percentage of the chart area width
                        radiusPercentage: 2,
                        // Needle width as the percentage of the chart area width
                        widthPercentage: 3.2,
                        // Needle length as the percentage of the interval between inner radius (0%) and outer radius (100%) of the arc
                        lengthPercentage: 80,
                        // The color of the needle
                        color: 'rgba(0, 0, 0, 1)'
                    },
                    valueLabel: {
                        display: true,
                        formatter: (value) => {
                            return value;
                        },
                        color: 'rgba(255, 255, 255, 1)',
                        backgroundColor: 'rgba(0, 0, 0, 1)',
                        borderRadius: 5,
                        padding: {
                            top: 10,
                            bottom: 10
                        }
                    },
                    plugins: {
                        datalabels: {
                            display: true,
                            formatter: function (value, context) {
                                return context.chart.data.labels[context.dataIndex];
                            },
                            //color: function (context) {
                            //  return context.dataset.backgroundColor;
                            //},
                            color: 'rgba(0, 0, 0, 1.0)',
                            //color: 'rgba(255, 255, 255, 1.0)',
                            backgroundColor: null,
                            font: {
                                size: 20,
                                weight: 'bold'
                            }
                        }
                    }
                }
            };

            var ctx = document.getElementById('chartColesterol').getContext('2d');
            window.myGauge = new Chart(ctx, config);
        }

        function FillQualidadeMuscular() {
            var valor = @Model.HistoricoPaciente.QualidadeMuscularTotal;
            var config = {
                type: 'gauge',
                data: {
                    labels: ['Baixo', 'Normal', 'Aumentado'],
                    datasets: [{
                        data: [46, 73, 80],
                        value: valor,
                        backgroundColor: ['green', 'yellow', 'red'],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    title: {
                        display: true,
                        text: 'Qualidade Muscular Total'
                    },
                    layout: {
                        padding: {
                            bottom: 30
                        }
                    },
                    needle: {
                        // Needle circle radius as the percentage of the chart area width
                        radiusPercentage: 2,
                        // Needle width as the percentage of the chart area width
                        widthPercentage: 3.2,
                        // Needle length as the percentage of the interval between inner radius (0%) and outer radius (100%) of the arc
                        lengthPercentage: 80,
                        // The color of the needle
                        color: 'rgba(0, 0, 0, 1)'
                    },
                    valueLabel: {
                        display: true,
                        formatter: (value) => {
                            return value;
                        },
                        color: 'rgba(255, 255, 255, 1)',
                        backgroundColor: 'rgba(0, 0, 0, 1)',
                        borderRadius: 5,
                        padding: {
                            top: 10,
                            bottom: 10
                        }
                    },
                    plugins: {
                        datalabels: {
                            display: true,
                            formatter: function (value, context) {
                                return context.chart.data.labels[context.dataIndex];
                            },
                            //color: function (context) {
                            //  return context.dataset.backgroundColor;
                            //},
                            color: 'rgba(0, 0, 0, 1.0)',
                            //color: 'rgba(255, 255, 255, 1.0)',
                            backgroundColor: null,
                            font: {
                                size: 20,
                                weight: 'bold'
                            }
                        }
                    }
                }
            };

            var ctx = document.getElementById('chartQualidadeMuscular').getContext('2d');
            window.myGauge = new Chart(ctx, config);
        }

        function FillAguaCorporal() {
            var valor = @Model.HistoricoPaciente.AguaCorporal;
            var config = {
                type: 'gauge',
                data: {
                    labels: ['Diminuído', 'Bom', 'Aumentado'],
                    datasets: [{
                        data: [50, 65, 80],
                        value: valor,
                        backgroundColor: ['green', 'yellow', 'red'],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    title: {
                        display: true,
                        text: 'Análise de Água Corporal(%)'
                    },
                    layout: {
                        padding: {
                            bottom: 30
                        }
                    },
                    needle: {
                        // Needle circle radius as the percentage of the chart area width
                        radiusPercentage: 2,
                        // Needle width as the percentage of the chart area width
                        widthPercentage: 3.2,
                        // Needle length as the percentage of the interval between inner radius (0%) and outer radius (100%) of the arc
                        lengthPercentage: 80,
                        // The color of the needle
                        color: 'rgba(0, 0, 0, 1)'
                    },
                    valueLabel: {
                        display: true,
                        formatter: (value) => {
                            return value;
                        },
                        color: 'rgba(255, 255, 255, 1)',
                        backgroundColor: 'rgba(0, 0, 0, 1)',
                        borderRadius: 5,
                        padding: {
                            top: 10,
                            bottom: 10
                        }
                    },
                    plugins: {
                        datalabels: {
                            display: true,
                            formatter: function (value, context) {
                                return context.chart.data.labels[context.dataIndex];
                            },
                            //color: function (context) {
                            //  return context.dataset.backgroundColor;
                            //},
                            color: 'rgba(0, 0, 0, 1.0)',
                            //color: 'rgba(255, 255, 255, 1.0)',
                            backgroundColor: null,
                            font: {
                                size: 20,
                                weight: 'bold'
                            }
                        }
                    }
                }
            };

            var ctx = document.getElementById('chartAguaCorporal').getContext('2d');
            window.myGauge = new Chart(ctx, config);
        }

        function FillMassaMuscular() {
            var valor = @Model.HistoricoPaciente.MassaMuscular;
            var config = {
                type: 'gauge',
                data: {
                    labels: ['Baixo', 'Diminuído', 'Bom', 'Aumentado'],
                    datasets: [{
                        data: [68, 74, 85, 100],
                        value: valor,
                        backgroundColor: ['red', 'orange', 'yellow', 'green'],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    title: {
                        display: true,
                        text: 'Análise de Massa Muscular'
                    },
                    layout: {
                        padding: {
                            bottom: 30
                        }
                    },
                    needle: {
                        // Needle circle radius as the percentage of the chart area width
                        radiusPercentage: 2,
                        // Needle width as the percentage of the chart area width
                        widthPercentage: 3.2,
                        // Needle length as the percentage of the interval between inner radius (0%) and outer radius (100%) of the arc
                        lengthPercentage: 80,
                        // The color of the needle
                        color: 'rgba(0, 0, 0, 1)'
                    },
                    valueLabel: {
                        display: true,
                        formatter: (value) => {
                            return value;
                        },
                        color: 'rgba(255, 255, 255, 1)',
                        backgroundColor: 'rgba(0, 0, 0, 1)',
                        borderRadius: 5,
                        padding: {
                            top: 10,
                            bottom: 10
                        }
                    },
                    plugins: {
                        datalabels: {
                            display: true,
                            formatter: function (value, context) {
                                return context.chart.data.labels[context.dataIndex];
                            },
                            //color: function (context) {
                            //  return context.dataset.backgroundColor;
                            //},
                            color: 'rgba(0, 0, 0, 1.0)',
                            //color: 'rgba(255, 255, 255, 1.0)',
                            backgroundColor: null,
                            font: {
                                size: 20,
                                weight: 'bold'
                            }
                        }
                    }
                }
            };

            var ctx = document.getElementById('chartMassaMuscular').getContext('2d');
            window.myGauge = new Chart(ctx, config);
        }

        function FillGorduraVisceral() {
            var valor = @Model.HistoricoPaciente.GorduraVisceral;
            var config = {
                type: 'gauge',
                data: {
                    labels: ['Bom', 'Aumentado', 'Alto'],
                    datasets: [{
                        data: [13, 18, 24],
                        value: valor,
                        backgroundColor: ['green', 'yellow', 'red'],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    title: {
                        display: true,
                        text: 'Análise de Gordura Visceral'
                    },
                    layout: {
                        padding: {
                            bottom: 30
                        }
                    },
                    needle: {
                        // Needle circle radius as the percentage of the chart area width
                        radiusPercentage: 2,
                        // Needle width as the percentage of the chart area width
                        widthPercentage: 3.2,
                        // Needle length as the percentage of the interval between inner radius (0%) and outer radius (100%) of the arc
                        lengthPercentage: 80,
                        // The color of the needle
                        color: 'rgba(0, 0, 0, 1)'
                    },
                    valueLabel: {
                        display: true,
                        formatter: (value) => {
                            return value;
                        },
                        color: 'rgba(255, 255, 255, 1)',
                        backgroundColor: 'rgba(0, 0, 0, 1)',
                        borderRadius: 5,
                        padding: {
                            top: 10,
                            bottom: 10
                        }
                    },
                    plugins: {
                        datalabels: {
                            display: true,
                            formatter: function (value, context) {
                                return context.chart.data.labels[context.dataIndex];
                            },
                            //color: function (context) {
                            //  return context.dataset.backgroundColor;
                            //},
                            color: 'rgba(0, 0, 0, 1.0)',
                            //color: 'rgba(255, 255, 255, 1.0)',
                            backgroundColor: null,
                            font: {
                                size: 20,
                                weight: 'bold'
                            }
                        }
                    }
                }
            };

            var ctx = document.getElementById('chartGorduraVisceral').getContext('2d');
            window.myGauge = new Chart(ctx, config);
        }

        function FillIMC() {
            var valor = @((Model.HistoricoPaciente.Peso / (Model.Altura * Model.Altura)).ToString("#.00;(#.00)"));
            var config = {
                type: 'gauge',
                data: {
                    labels: ['Peso inferior ao normal', 'Nível bom', 'Excesso de peso', 'Adiposidade'],
                    datasets: [{
                        data: [22, 27, 31.5, 36],
                        value: valor,
                        backgroundColor: ['green', 'yellow', 'orange', 'red'],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    title: {
                        display: true,
                        text: 'Análise de IMC(Kg/m2)'
                    },
                    layout: {
                        padding: {
                            bottom: 30
                        }
                    },
                    needle: {
                        // Needle circle radius as the percentage of the chart area width
                        radiusPercentage: 2,
                        // Needle width as the percentage of the chart area width
                        widthPercentage: 3.2,
                        // Needle length as the percentage of the interval between inner radius (0%) and outer radius (100%) of the arc
                        lengthPercentage: 80,
                        // The color of the needle
                        color: 'rgba(0, 0, 0, 1)'
                    },
                    valueLabel: {
                        display: true,
                        formatter: (value) => {
                            return value;
                        },
                        color: 'rgba(255, 255, 255, 1)',
                        backgroundColor: 'rgba(0, 0, 0, 1)',
                        borderRadius: 5,
                        padding: {
                            top: 10,
                            bottom: 10
                        }
                    },
                    plugins: {
                        datalabels: {
                            display: true,
                            formatter: function (value, context) {
                                return context.chart.data.labels[context.dataIndex];
                            },
                            //color: function (context) {
                            //  return context.dataset.backgroundColor;
                            //},
                            color: 'rgba(0, 0, 0, 1.0)',
                            //color: 'rgba(255, 255, 255, 1.0)',
                            backgroundColor: null,
                            font: {
                                size: 20,
                                weight: 'bold'
                            }
                        }
                    }
                }
            };

            var ctx = document.getElementById('chartIMC').getContext('2d');
            window.myGauge = new Chart(ctx, config);
        }

        function FillGorduraCorporalGauge() {
            var valor = @Model.HistoricoPaciente.NivelGordura;
            var config = {
                type: 'gauge',
                data: {
                    labels: ['Diminuído', 'Bom', 'Aumentado', 'Adiposidade'],
                    datasets: [{
                        data: [10, 22, 28, 32],
                        value: valor,
                        backgroundColor: ['green', 'yellow', 'orange', 'red'],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    title: {
                        display: true,
                        text: 'Análise de Gordura Corporal(%)'
                    },
                    layout: {
                        padding: {
                            bottom: 30
                        }
                    },
                    needle: {
                        // Needle circle radius as the percentage of the chart area width
                        radiusPercentage: 2,
                        // Needle width as the percentage of the chart area width
                        widthPercentage: 3.2,
                        // Needle length as the percentage of the interval between inner radius (0%) and outer radius (100%) of the arc
                        lengthPercentage: 80,
                        // The color of the needle
                        color: 'rgba(0, 0, 0, 1)'
                    },
                    valueLabel: {
                        display: true,
                        formatter: (value) => {
                            return value;
                        },
                        color: 'rgba(255, 255, 255, 1)',
                        backgroundColor: 'rgba(0, 0, 0, 1)',
                        borderRadius: 5,
                        padding: {
                            top: 10,
                            bottom: 10
                        }
                    },
                    plugins: {
                        datalabels: {
                            display: true,
                            formatter: function (value, context) {
                                return context.chart.data.labels[context.dataIndex];
                            },
                            //color: function (context) {
                            //  return context.dataset.backgroundColor;
                            //},
                            color: 'rgba(0, 0, 0, 1.0)',
                            //color: 'rgba(255, 255, 255, 1.0)',
                            backgroundColor: null,
                            font: {
                                size: 20,
                                weight: 'bold'
                            }
                        }
                    }
                }
            };

            var ctx = document.getElementById('chartGorduraCorporal').getContext('2d');
            window.myGauge = new Chart(ctx, config);
        }

    </script>
}